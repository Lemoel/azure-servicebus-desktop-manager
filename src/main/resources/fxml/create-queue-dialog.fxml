<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<DialogPane xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.azureservicebus.manager.controller.CreateQueueDialogController"
            prefWidth="650" minHeight="400">
   
   <content>
      <VBox spacing="20.0" styleClass="dialog-content">
         <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
         </padding>
         
         <!-- TÃ­tulo do DiÃ¡logo -->
         <HBox alignment="CENTER_LEFT" styleClass="dialog-header">
            <Label text="âš™ï¸ Configurar Nova Fila" styleClass="dialog-title">
               <font>
                  <Font name="System Bold" size="18.0" />
               </font>
            </Label>
         </HBox>
         
         <Separator />
         
         <!-- InformaÃ§Ãµes BÃ¡sicas -->
         <VBox spacing="10.0" styleClass="section">
            <Label text="ðŸ“‹ InformaÃ§Ãµes BÃ¡sicas" styleClass="section-title">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <VBox spacing="5.0">
               <Label text="Nome da Fila: *" />
               <TextField fx:id="queueNameField" promptText="Digite o nome da fila" />
               <Label fx:id="nameErrorLabel" styleClass="error-label" visible="false" />
            </VBox>
         </VBox>
         
         <!-- ConfiguraÃ§Ãµes de Entrega -->
         <VBox spacing="10.0" styleClass="section">
            <Label text="âš™ï¸ ConfiguraÃ§Ãµes de Entrega" styleClass="section-title">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <GridPane hgap="15.0" vgap="10.0">
               <columnConstraints>
                  <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                  <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
               </columnConstraints>
               
               <!-- Max Delivery Count -->
               <VBox spacing="5.0" GridPane.columnIndex="0" GridPane.rowIndex="0">
                  <Label text="Max Delivery Count: *" />
                  <HBox spacing="5.0" alignment="CENTER_LEFT">
                     <Spinner fx:id="maxDeliveryCountSpinner" editable="true" 
                              prefWidth="120.0" />
                     <Label text="â„¹ï¸" styleClass="info-icon">
                        <tooltip>
                           <Tooltip text="NÃºmero mÃ¡ximo de tentativas de entrega antes de mover para Dead Letter Queue (1-2000)" 
                                    wrapText="true" maxWidth="300" />
                        </tooltip>
                     </Label>
                  </HBox>
               </VBox>
               
               <!-- Lock Duration -->
               <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="0">
                  <Label text="Lock Duration (minutos): *" />
                  <HBox spacing="5.0" alignment="CENTER_LEFT">
                     <Spinner fx:id="lockDurationSpinner" editable="true" 
                              prefWidth="120.0" />
                     <Label text="â„¹ï¸" styleClass="info-icon">
                        <tooltip>
                           <Tooltip text="DuraÃ§Ã£o do bloqueio da mensagem durante o processamento (0-5 minutos)" 
                                    wrapText="true" maxWidth="300" />
                        </tooltip>
                     </Label>
                  </HBox>
               </VBox>
            </GridPane>
         </VBox>
         
         <!-- ConfiguraÃ§Ãµes Adicionais -->
         <VBox spacing="10.0" styleClass="section">
            <Label text="ðŸ“¦ ConfiguraÃ§Ãµes Adicionais (Opcional)" styleClass="section-title">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <!-- Checkboxes -->
            <VBox spacing="8.0">
               <CheckBox fx:id="deadLetterCheckBox" text="Dead Letter on Message Expiration" selected="true">
                  <tooltip>
                     <Tooltip text="Move mensagens expiradas para Dead Letter Queue automaticamente" 
                              wrapText="true" maxWidth="300" />
                  </tooltip>
               </CheckBox>
               
               <CheckBox fx:id="batchedOperationsCheckBox" text="Enable Batched Operations" selected="true">
                  <tooltip>
                     <Tooltip text="Permite operaÃ§Ãµes em lote para melhor desempenho" 
                              wrapText="true" maxWidth="300" />
                  </tooltip>
               </CheckBox>
               
               <CheckBox fx:id="requiresSessionCheckBox" text="Requires Session">
                  <tooltip>
                     <Tooltip text="Habilita sessÃµes para processamento ordenado de mensagens relacionadas" 
                              wrapText="true" maxWidth="300" />
                  </tooltip>
               </CheckBox>
               
               <CheckBox fx:id="partitioningCheckBox" text="Enable Partitioning">
                  <tooltip>
                     <Tooltip text="Particiona a fila entre mÃºltiplos message brokers para maior throughput" 
                              wrapText="true" maxWidth="300" />
                  </tooltip>
               </CheckBox>
               
               <CheckBox fx:id="duplicateDetectionCheckBox" text="Enable Duplicate Detection">
                  <tooltip>
                     <Tooltip text="Detecta e descarta mensagens duplicadas com base no MessageId" 
                              wrapText="true" maxWidth="300" />
                  </tooltip>
               </CheckBox>
            </VBox>
            
            <Separator />
            
            <!-- Duplicate Detection Window (visÃ­vel apenas quando habilitado) -->
            <VBox fx:id="duplicateDetectionSection" spacing="5.0" visible="false" managed="false">
               <Label text="Duplicate Detection Window (minutos):" />
               <HBox spacing="5.0" alignment="CENTER_LEFT">
                  <Spinner fx:id="duplicateDetectionWindowSpinner" editable="true" 
                           prefWidth="150.0" />
                  <Label text="â„¹ï¸" styleClass="info-icon">
                     <tooltip>
                        <Tooltip text="Janela de tempo para manter histÃ³rico de IDs de mensagens (1 a 10080 minutos = 7 dias)" 
                                 wrapText="true" maxWidth="300" />
                     </tooltip>
                  </Label>
               </HBox>
            </VBox>
            
            <Separator fx:id="duplicateDetectionSeparator" visible="false" managed="false" />
            
            <!-- Campos NumÃ©ricos Adicionais -->
            <GridPane hgap="15.0" vgap="10.0">
               <columnConstraints>
                  <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                  <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
               </columnConstraints>
               
               <!-- Max Size -->
               <VBox spacing="5.0" GridPane.columnIndex="0" GridPane.rowIndex="0">
                  <Label text="Max Size (MB):" />
                  <HBox spacing="5.0" alignment="CENTER_LEFT">
                     <ComboBox fx:id="maxSizeComboBox" prefWidth="150.0" />
                     <Label text="â„¹ï¸" styleClass="info-icon">
                        <tooltip>
                           <Tooltip text="Tamanho mÃ¡ximo da fila em megabytes" 
                                    wrapText="true" maxWidth="300" />
                        </tooltip>
                     </Label>
                  </HBox>
               </VBox>
               
               <!-- Default TTL -->
               <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="0">
                  <Label text="Default Message TTL (horas):" />
                  <HBox spacing="5.0" alignment="CENTER_LEFT">
                     <Spinner fx:id="ttlSpinner" editable="true" 
                              prefWidth="150.0" />
                     <Label text="â„¹ï¸" styleClass="info-icon">
                        <tooltip>
                           <Tooltip text="Tempo de vida padrÃ£o das mensagens em horas (padrÃ£o: 336h = 14 dias)" 
                                    wrapText="true" maxWidth="300" />
                        </tooltip>
                     </Label>
                  </HBox>
               </VBox>
            </GridPane>
         </VBox>
         
         <!-- Dica com Valores Comuns -->
         <VBox spacing="5.0" styleClass="info-box">
            <padding>
               <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
            </padding>
            <Label text="ðŸ’¡ Dica: Valores comuns do TestCaseDocGen" styleClass="info-title">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font>
            </Label>
            <Label text="â€¢ Max Delivery Count: 10" styleClass="info-text" />
            <Label text="â€¢ Lock Duration: 1 minuto" styleClass="info-text" />
            <Label text="â€¢ Dead Letter on Expiration: Habilitado" styleClass="info-text" />
            <Label text="â€¢ Batched Operations: Habilitado" styleClass="info-text" />
         </VBox>
         
      </VBox>
   </content>
   
   <buttonTypes>
      <ButtonType fx:constant="CANCEL" />
      <ButtonType fx:constant="OK" />
   </buttonTypes>
   
</DialogPane>
